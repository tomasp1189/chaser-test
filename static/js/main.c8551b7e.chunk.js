(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){e.exports=n(44)},23:function(e,t,n){},24:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),o=n.n(c),u=(n(23),n(24),n(2)),i=n.n(u),l=n(3),s=n(6),m=n(4),d=n.n(m),p=n(5),f=n.n(p),v=function(e){var t=e.children;return r.a.createElement("tr",null,t)},h=function(e){var t=e.row,n=e.column;return function(){switch(n.type){case"number":return r.a.createElement("td",{style:{textAlign:"right"}},t[n.columnId]);case"email":return r.a.createElement("td",{style:{textAlign:"right"}},r.a.createElement("div",{style:{display:"flex"}},t[n.columnId],t.unpaidInvoices>0&&r.a.createElement("span",{style:{marginLeft:5,backgroundColor:"red",color:"white",padding:"2px 3px",borderRadius:5,fontSize:10,fontWeight:700}},"Overdue")));default:return r.a.createElement("td",{style:{textAlign:"left"}},t[n.columnId])}}()},b=function(e){var t=e.column;return function(){switch(t.type){case"number":return r.a.createElement("th",{style:{textAlign:"right"}},t.name);default:return r.a.createElement("th",{style:{textAlign:"left"}},t.name)}}()},y=function(e){var t=e.columns;return r.a.createElement("thead",null,r.a.createElement(v,null,t.map(function(e){return r.a.createElement(b,{key:e.columnId,column:e})})))};y.defaultProps={columns:[]};var E=y,w=[{columnId:"id",name:"#",type:"text"},{columnId:"email",name:"Email",type:"email"},{columnId:"paidInvoices",name:"Paid Invoices",type:"number"},{columnId:"totalAmountPaid",name:"Total Amount Paid",type:"number"},{columnId:"unpaidInvoices",name:"Unpaid Invoices",type:"number"},{columnId:"totalAmountDue",name:"Total Amount Due",type:"number"}],I=function(e){var t=e.rows;return r.a.createElement("table",null,r.a.createElement(E,{columns:w}),r.a.createElement("tbody",null,0===t.length?r.a.createElement("tr",null,r.a.createElement("td",{colSpan:w.length},"Loading...")):t.map(function(e){return r.a.createElement(v,null,w.map(function(t,n){return r.a.createElement(h,{key:"cell-".concat(e.id,"-").concat(n),row:e,column:t})}))})))};I.defaultProps={rows:[]};var g=I,x=function(e){var t=Object(a.useState)({}),n=Object(s.a)(t,2),c=n[0],o=n[1];Object(a.useEffect)(function(){!function(){var e=Object(l.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,f.a.get("https://api.stripe.com/v1/customers?limit=100",{headers:{Authorization:"Bearer sk_test_4eC39HqLyjWDarjtT1zdp7dc"}});case 4:t=e.sent,n=t.data,o(d.a.mapKeys(n.data,"id")),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:return e.prev=11,e.abrupt("return");case 14:case"end":return e.stop()}},e,null,[[0,9,11,14]])}));return function(){return e.apply(this,arguments)}}()()},[]);var u=Object(a.useState)([]),m=Object(s.a)(u,2),p=m[0],v=m[1];Object(a.useEffect)(function(){!function(){var e=Object(l.a)(i.a.mark(function e(){var t,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==Object.keys(c).length){e.next=4;break}return e.abrupt("return");case 4:return e.next=7,f.a.get("".concat("https://api.stripe.com/v1/invoices","?limit=100"),{headers:{Authorization:"Bearer sk_test_4eC39HqLyjWDarjtT1zdp7dc"}});case 7:t=e.sent,n=t.data.data,v(n),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:return e.prev=14,e.abrupt("return");case 17:case"end":return e.stop()}},e,null,[[0,12,14,17]])}));return function(){return e.apply(this,arguments)}}()()},[c]);var h=Object(a.useMemo)(function(){if(0!==p.length){var e={};return p.forEach(function(t){var n=e[t.customer];n||(n={id:t.customer,email:t.customer_email,paidInvoices:0,totalAmountPaid:0,unpaidInvoices:0,totalAmountDue:0}),n.paidInvoices=n.paidInvoices+(t.paid?1:0),n.totalAmountPaid=n.paidInvoices+(t.paid?t.amount_paid:0),n.unpaidInvoices=n.unpaidInvoices+(t.paid?0:1),n.totalAmountDue=n.paidInvoices+(t.paid?0:t.amount_due),e[t.customer]=n}),d.a.map(e,function(e){return e})}},[c,p]);return r.a.createElement(g,{rows:h})};var A=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(x,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[18,1,2]]]);
//# sourceMappingURL=main.c8551b7e.chunk.js.map